{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Kudos Docs \u00b6 This site contains technical and user documentation for Kudos Apps. For purchase and product information visit kudosapps.com .","title":"Welcome"},{"location":"#welcome-to-kudos-docs","text":"This site contains technical and user documentation for Kudos Apps. For purchase and product information visit kudosapps.com .","title":" Welcome to Kudos Docs"},{"location":"boards/","text":"Kudos Boards Overview \u00b6 Here are some quick instructions to help you get started with Kudos Boards. Create A Board \u00b6 From the My Boards homepage, click on the New Board button. Enter a name and description for your new board. Don't worry you can edit these later. Select any users or groups you would like to add to your board. Also select if you would like to share this board with the rest of your team. These settings can be changed after a board has been created as well. Select from our range of quick templates; Search the template library for a more sophisticated template; Or Select Blank to choose your own adventure! Click Create The board is now ready to use! Add Lists and Cards \u00b6 Add lists to a board to categorise todos and entries. Click on Add a List to add a new list to your board. Click on Add a Card in any list to add a card to that list. Add cards to your lists to represent Tasks, Work Items, Decisions, Ideas, Notes, Options, Sub-lists - Really anything you need them to represent. The beauty of this design is that you can use lists and cards to mean anything you need to for the task at hand. Assign Tasks To Others \u00b6 Assign Tasks to people in the board by either dragging their photo from the members panel in the right side bar. Or use the Assign Users control from the card details view. When you assign a card to a person, they are notified of the assignment via email and also via any news feeds that board has access to (Workspace chat, Connections activity stream, etc.). Plan Your Tasks \u00b6 Boards lets you assign due dates to card to help you better plan your tasks. Go to the Timeline View in a board to view the cards by their due dates. To set a due date on a card, or to change a due date simply drag the card to another list. For example, dragging a card from the No Date list to the Tomorrow list sets the due date of that card to tomorrow. View Card Details \u00b6 Click on a card to open it. The card details popup gives you access to a whole range of information and controls for the card. It lets you view and edit the card's name, completion status, description, tags, attachments, comments, due date, colour labels, fields and much more! Edit Board Options \u00b6 Click on the Edit icon on the top right of the board to open the Board details view. This view lets you edit the board's name, description, tags, due date and more. It also let's you create a templates and archive the board. Add and Remove Board Members \u00b6 Click on Members in the right sidebar to open the Board Members view. You can view all the orgs, individuals and groups who have access to this board. If you have Owner role for the board, you can also add and remove members from this view. Colour Code Your Cards \u00b6 Kudos Boards allows you to colour code your tasks by simply dragging and dropping the colours from the right sidebar onto cards. You can also assign custom text labels to each of the colours by simply clicking the edit icon in the Colour Labels section in the right sidebar. These labels are set at the board level and everyone in the board will see the same labels. Colour Code Your Boards \u00b6 Kudos Boards let's you colour code all your boards to help you personally manage and categorise your work. To colour code a board tile in the My Boards view, simply drag a colour from the left sidebar and drop it on a board. Much like card colour labels, you can also add custom text labels to these colours, however, this is for your personal organisation and as such will only be visible to you. To edit the board colour labels, click the edit icon in the Tile Colours section in the left sidebar.","title":"Overview"},{"location":"boards/#kudos-boards-overview","text":"Here are some quick instructions to help you get started with Kudos Boards.","title":"Kudos Boards Overview"},{"location":"boards/#create-a-board","text":"From the My Boards homepage, click on the New Board button. Enter a name and description for your new board. Don't worry you can edit these later. Select any users or groups you would like to add to your board. Also select if you would like to share this board with the rest of your team. These settings can be changed after a board has been created as well. Select from our range of quick templates; Search the template library for a more sophisticated template; Or Select Blank to choose your own adventure! Click Create The board is now ready to use!","title":"Create A Board"},{"location":"boards/#add-lists-and-cards","text":"Add lists to a board to categorise todos and entries. Click on Add a List to add a new list to your board. Click on Add a Card in any list to add a card to that list. Add cards to your lists to represent Tasks, Work Items, Decisions, Ideas, Notes, Options, Sub-lists - Really anything you need them to represent. The beauty of this design is that you can use lists and cards to mean anything you need to for the task at hand.","title":"Add Lists and Cards"},{"location":"boards/#assign-tasks-to-others","text":"Assign Tasks to people in the board by either dragging their photo from the members panel in the right side bar. Or use the Assign Users control from the card details view. When you assign a card to a person, they are notified of the assignment via email and also via any news feeds that board has access to (Workspace chat, Connections activity stream, etc.).","title":"Assign Tasks To Others"},{"location":"boards/#plan-your-tasks","text":"Boards lets you assign due dates to card to help you better plan your tasks. Go to the Timeline View in a board to view the cards by their due dates. To set a due date on a card, or to change a due date simply drag the card to another list. For example, dragging a card from the No Date list to the Tomorrow list sets the due date of that card to tomorrow.","title":"Plan Your Tasks"},{"location":"boards/#view-card-details","text":"Click on a card to open it. The card details popup gives you access to a whole range of information and controls for the card. It lets you view and edit the card's name, completion status, description, tags, attachments, comments, due date, colour labels, fields and much more!","title":"View Card Details"},{"location":"boards/#edit-board-options","text":"Click on the Edit icon on the top right of the board to open the Board details view. This view lets you edit the board's name, description, tags, due date and more. It also let's you create a templates and archive the board.","title":"Edit Board Options"},{"location":"boards/#add-and-remove-board-members","text":"Click on Members in the right sidebar to open the Board Members view. You can view all the orgs, individuals and groups who have access to this board. If you have Owner role for the board, you can also add and remove members from this view.","title":"Add and Remove Board Members"},{"location":"boards/#colour-code-your-cards","text":"Kudos Boards allows you to colour code your tasks by simply dragging and dropping the colours from the right sidebar onto cards. You can also assign custom text labels to each of the colours by simply clicking the edit icon in the Colour Labels section in the right sidebar. These labels are set at the board level and everyone in the board will see the same labels.","title":"Colour Code Your Cards"},{"location":"boards/#colour-code-your-boards","text":"Kudos Boards let's you colour code all your boards to help you personally manage and categorise your work. To colour code a board tile in the My Boards view, simply drag a colour from the left sidebar and drop it on a board. Much like card colour labels, you can also add custom text labels to these colours, however, this is for your personal organisation and as such will only be visible to you. To edit the board colour labels, click the edit icon in the Tile Colours section in the left sidebar.","title":"Colour Code Your Boards"},{"location":"boards/icp/","text":"Kudos Boards for IBM Cloud Private \u00b6 Basic instructions for deploying Kudos Boards into IBM Cloud Private for on-premise IBM Connections environments Pre-Requisites \u00b6 IBM Cloud Private is installed and running WebSphere environment with Web Server kubectl is installed helm is installed mongodb setup and running S3 storage setup and running. For local S3 we recommend minio SMTP gateway setup for email notifications Kudos Boards helm chart downloaded Config file downloaded Dockerhub account setup with access to Kudos Boards repository, send your account details to support@kudosboards.com if you don't already have this. SSL certificate - You will need to use a certificate that covers at least the 2 domains you plan to use, for example Kudos Boards cloud uses the domains https://kudosboards.com and https://api.kudosboards.com . The certificate should be pem encoded with a separate key file. Login to kubectl \u00b6 Open ICP Console Go to Admin (top right) Click Config Client Copy the contents shown Open your command line (cmd) Paste the commands copied earlier and press enter Setup Kudos Boards namespace \u00b6 kubectl create namespace kudosboards Setup secrets \u00b6 Dockerhub credentials kubectl create secret docker-registry dockerhub --docker-server=docker.io --docker-username=<username> --docker-password=<password> --docker-email=<email> --namespace=kudosboards SSL certificate details kubectl create secret tls kudosboards-domain-secret --key </path/to/keyfile> --cert </path/to/certificate> --namespace=kudosboards Deploy Kudos Boards \u00b6 Update Config file Key Description global.env.APP_URI Your <BOARDS_URL> global.env.API_GATEWAY You need to provide an alternate url here for the app to communicate with the api, for example our cloud app uses https://api.kudosboards.com global.env.S3_ENDPOINT Enter your S3 URL global.env.S3_ACCESS_KEY Enter your S3 Access Key global.env.S3_SECRET_KEY Enter your S3 Secret Key boards.ingress.hosts Your API_GATEWAY url as above without https boards.ingress.tls.hosts Your API_GATEWAY url as above without https boards.webfront.ingress.hosts Your APP_URI url as above without https boards.webfront.ingress.tls.hosts Your APP_URI url as above without https boards.core.env.NOTIFIER_EMAIL_HOST Your SMTP gateway URL boards.core.env.NOTIFIER_EMAIL_USERNAME Your SMTP gateway username boards.core.env.NOTIFIER_EMAIL_PASSWORD Your SMTP gateway password boards.app.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about boards, lists and cards boards.licence.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all licencing information boards.notification.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about notifications boards.user.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about users Use helm to install boards with your values helm init helm upgrade kudos-boards kudos-boards.tgz -f boards-icp.yml --namespace kudosboards -i add new DNS record for Kudos Boards URL ie boards.example.com Add Websphere Config \u00b6 Please follow these instructions Add IBM Connections widgets \u00b6 Please follow these instructions","title":"IBM ICP (Kubernetes)"},{"location":"boards/icp/#kudos-boards-for-ibm-cloud-private","text":"Basic instructions for deploying Kudos Boards into IBM Cloud Private for on-premise IBM Connections environments","title":"Kudos Boards for IBM Cloud Private"},{"location":"boards/icp/#pre-requisites","text":"IBM Cloud Private is installed and running WebSphere environment with Web Server kubectl is installed helm is installed mongodb setup and running S3 storage setup and running. For local S3 we recommend minio SMTP gateway setup for email notifications Kudos Boards helm chart downloaded Config file downloaded Dockerhub account setup with access to Kudos Boards repository, send your account details to support@kudosboards.com if you don't already have this. SSL certificate - You will need to use a certificate that covers at least the 2 domains you plan to use, for example Kudos Boards cloud uses the domains https://kudosboards.com and https://api.kudosboards.com . The certificate should be pem encoded with a separate key file.","title":"Pre-Requisites"},{"location":"boards/icp/#login-to-kubectl","text":"Open ICP Console Go to Admin (top right) Click Config Client Copy the contents shown Open your command line (cmd) Paste the commands copied earlier and press enter","title":"Login to kubectl"},{"location":"boards/icp/#setup-kudos-boards-namespace","text":"kubectl create namespace kudosboards","title":"Setup Kudos Boards namespace"},{"location":"boards/icp/#setup-secrets","text":"Dockerhub credentials kubectl create secret docker-registry dockerhub --docker-server=docker.io --docker-username=<username> --docker-password=<password> --docker-email=<email> --namespace=kudosboards SSL certificate details kubectl create secret tls kudosboards-domain-secret --key </path/to/keyfile> --cert </path/to/certificate> --namespace=kudosboards","title":"Setup secrets"},{"location":"boards/icp/#deploy-kudos-boards","text":"Update Config file Key Description global.env.APP_URI Your <BOARDS_URL> global.env.API_GATEWAY You need to provide an alternate url here for the app to communicate with the api, for example our cloud app uses https://api.kudosboards.com global.env.S3_ENDPOINT Enter your S3 URL global.env.S3_ACCESS_KEY Enter your S3 Access Key global.env.S3_SECRET_KEY Enter your S3 Secret Key boards.ingress.hosts Your API_GATEWAY url as above without https boards.ingress.tls.hosts Your API_GATEWAY url as above without https boards.webfront.ingress.hosts Your APP_URI url as above without https boards.webfront.ingress.tls.hosts Your APP_URI url as above without https boards.core.env.NOTIFIER_EMAIL_HOST Your SMTP gateway URL boards.core.env.NOTIFIER_EMAIL_USERNAME Your SMTP gateway username boards.core.env.NOTIFIER_EMAIL_PASSWORD Your SMTP gateway password boards.app.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about boards, lists and cards boards.licence.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all licencing information boards.notification.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about notifications boards.user.env.MONGO_URI Your mongo connection string, which should include all servers from your replica set, username and password, default database and any required options. This database will store all information about users Use helm to install boards with your values helm init helm upgrade kudos-boards kudos-boards.tgz -f boards-icp.yml --namespace kudosboards -i add new DNS record for Kudos Boards URL ie boards.example.com","title":"Deploy Kudos Boards"},{"location":"boards/icp/#add-websphere-config","text":"Please follow these instructions","title":"Add Websphere Config"},{"location":"boards/icp/#add-ibm-connections-widgets","text":"Please follow these instructions","title":"Add IBM Connections widgets"},{"location":"boards/swarm/","text":"Kudos Boards for Docker Swarm \u00b6 Basic instructions for deploying Kudos Boards into Docker Swarm for on-premise IBM Connections environments Pre-Requisites \u00b6 Docker swarm with portainer is up and running guide SMTP gateway setup for email notifications Config File downloaded Dockerhub account setup with access to Kudos Boards repository, send your account details to support@kudosboards.com if you don't already have this. SSL certificate - You will need to use a certificate that covers at least the 2 domains you plan to use, for example Kudos Boards cloud uses the domains https://kudosboards.com and https://api.kudosboards.com . The certificate should be pem encoded with a separate key file. Update Config file \u00b6 Key Description x-minio-access Your minio ACCESS KEY as defined in your docker swarm config x-minio-secret Your minio SECRET KEY as defined in your docker swarm config x-app-env.APP_URI Your main URL services.webfront.deploy.labels Update the with your main URL services.webfront.environment.API_GATEWAY Your api URL services.core.deploy.labels Update the with your api URL services.user.environment.ENSURE_TEAMS update the example team as follows: name Your company name externalId your connections url base64 encoded clientSecret Your oAuth client secret as defined in connections clientID Your oAuth client id baseURL Your connections URL Deploy \u00b6 Open portainer and login Select your primary endpoint Choose Stacks from the side menu Click Add Stack Name your stack kudos-boards paste your config from from above into the web editor Click \"Deploy the stack\" Update DNS \u00b6 Update DNS records with a cname entry pointing to your swarm url. For example: kudosboards.com -> swarm.isw.net.au api.kudosboards.com -> swarm.isw.net.au Add IBM Connections widgets \u00b6 Please follow these instructions Advanced \u00b6 You can also run Kudos Boards with externally hosted mongo database and/or S3 storage. For assistance with this contact support@kudosboards.com","title":"Docker Swarm"},{"location":"boards/swarm/#kudos-boards-for-docker-swarm","text":"Basic instructions for deploying Kudos Boards into Docker Swarm for on-premise IBM Connections environments","title":"Kudos Boards for Docker Swarm"},{"location":"boards/swarm/#pre-requisites","text":"Docker swarm with portainer is up and running guide SMTP gateway setup for email notifications Config File downloaded Dockerhub account setup with access to Kudos Boards repository, send your account details to support@kudosboards.com if you don't already have this. SSL certificate - You will need to use a certificate that covers at least the 2 domains you plan to use, for example Kudos Boards cloud uses the domains https://kudosboards.com and https://api.kudosboards.com . The certificate should be pem encoded with a separate key file.","title":"Pre-Requisites"},{"location":"boards/swarm/#update-config-file","text":"Key Description x-minio-access Your minio ACCESS KEY as defined in your docker swarm config x-minio-secret Your minio SECRET KEY as defined in your docker swarm config x-app-env.APP_URI Your main URL services.webfront.deploy.labels Update the with your main URL services.webfront.environment.API_GATEWAY Your api URL services.core.deploy.labels Update the with your api URL services.user.environment.ENSURE_TEAMS update the example team as follows: name Your company name externalId your connections url base64 encoded clientSecret Your oAuth client secret as defined in connections clientID Your oAuth client id baseURL Your connections URL","title":"Update Config file"},{"location":"boards/swarm/#deploy","text":"Open portainer and login Select your primary endpoint Choose Stacks from the side menu Click Add Stack Name your stack kudos-boards paste your config from from above into the web editor Click \"Deploy the stack\"","title":"Deploy"},{"location":"boards/swarm/#update-dns","text":"Update DNS records with a cname entry pointing to your swarm url. For example: kudosboards.com -> swarm.isw.net.au api.kudosboards.com -> swarm.isw.net.au","title":"Update DNS"},{"location":"boards/swarm/#add-ibm-connections-widgets","text":"Please follow these instructions","title":"Add IBM Connections widgets"},{"location":"boards/swarm/#advanced","text":"You can also run Kudos Boards with externally hosted mongo database and/or S3 storage. For assistance with this contact support@kudosboards.com","title":"Advanced"},{"location":"boards/wasconfig/","text":"WebSphere config for kudos Boards \u00b6 Open WebSphere ISC -> open web server -> edit http.conf -> add another VirtualHost <VirtualHost *:443> ServerName boards.isw.net.au #Kudos Boards ProxyPreserveHost On ProxyPass / http://<server-ip>/ ProxyPassReverse / http://<server-ip>/ #End Kudos Boards SSLEnable # Disable SSLv2 SSLProtocolDisable SSLv2 # Set strong ciphers SSLCipherSpec TLS_RSA_WITH_AES_128_CBC_SHA SSLCipherSpec TLS_RSA_WITH_AES_256_CBC_SHA SSLCipherSpec SSL_RSA_WITH_3DES_EDE_CBC_SHA </VirtualHost> Register OAuth execfile('oauthAdmin.py') OAuthApplicationRegistrationService.addApplication('kudosboards', 'KudosBoards', '<BOARDS_URL>/auth/connections')","title":"WAS Config"},{"location":"boards/wasconfig/#websphere-config-for-kudos-boards","text":"Open WebSphere ISC -> open web server -> edit http.conf -> add another VirtualHost <VirtualHost *:443> ServerName boards.isw.net.au #Kudos Boards ProxyPreserveHost On ProxyPass / http://<server-ip>/ ProxyPassReverse / http://<server-ip>/ #End Kudos Boards SSLEnable # Disable SSLv2 SSLProtocolDisable SSLv2 # Set strong ciphers SSLCipherSpec TLS_RSA_WITH_AES_128_CBC_SHA SSLCipherSpec TLS_RSA_WITH_AES_256_CBC_SHA SSLCipherSpec SSL_RSA_WITH_3DES_EDE_CBC_SHA </VirtualHost> Register OAuth execfile('oauthAdmin.py') OAuthApplicationRegistrationService.addApplication('kudosboards', 'KudosBoards', '<BOARDS_URL>/auth/connections')","title":"WebSphere config for kudos Boards"},{"location":"boards/websphere/","text":"Kudos Boards Websphere \u00b6","title":"Websphere"},{"location":"boards/websphere/#kudos-boards-websphere","text":"","title":"Kudos Boards Websphere"},{"location":"boards/widgets/","text":"IBM Connections Widget Setup \u00b6 Basic instructions for adding Kudos Boards Docker widgets into IBM Connections on-premise environments Community Widget \u00b6 Check out the widgets-config.xml file. execfile(\"profilesAdmin.py\") ProfilesConfigService.checkOutWidgetConfig(\"/LCCheckedOut\", AdminControl.getCell()) Edit the widgets-config.xml file. Under the section, then under , then within add the following. <!-- Kudos Boards --> <widgetDef defId=\"KudosBoards\" modes=\"view fullpage\" url=\"https://<BOARDS_URL>/boards/community/connections\" themes=\"wpthemeNarrow wpthemeWide wpthemeBanner\" uniqueInstance=\"true\"> <itemSet> <item name=\"resourceId\" value=\"{resourceId}\"/> </itemSet> </widgetDef> <!-- END Kudos Boards --> Check in the widgets-config.xml file. ProfilesConfigService.checkInWidgetConfig() Activity Stream widget \u00b6 Access Homepage->Administrator Select the following: Open Social Gadget Trusted and Use SSO Show for Activity Stream events All servers Click the Add Mapping button. Add a Mapping for the Kudos Boards service to the Kudos client. Ensure OAuth Client is set to conn-ee and the Service name is Kudos Boards. Click the Ok button Enter The following: Field Value Title Kudos Boards Activity Stream URL Address http://<BOARDS_URL>/stream/connections Secure URL Address https://<BOARDS_URL>/stream/connections ICON URL http://<BOARDS_URL>/favicon.ico ICON SECURE URL https://<BOARDS_URL>/favicon.ico Select: Use IBM Connections specific tags Opened by default Select the following Prerequisites: oauthprovider webresources oauth opensocial Scroll down and Click Save Register Widget \u00b6 Required for IBM Connections 6.0 CR1 onwards execfile(\"newsAdmin.py\") NewsWidgetCatalogService.addWidget(title=\"Kudos Boards\", url=\"http://<BOARDS_URL>/boards/community/connection\" ,secureUrl=\"https://<BOARDS_URL>\"/boards/community/connections, categoryName=WidgetCategories.NONE, isHomepageSpecific=0, isDefaultOpened=0, multipleInstanceAllowed=0, isGadget=0, policyFlags=[GadgetPolicyFlags.TRUSTED], prereqs=['communities'], appContexts=[\"IWIDGETS\"]) NewsWidgetCatalogService.enableWidget(\"<ID_RETURNED>\") NewsWidgetCatalogService.clearWidgetCaches()","title":"Connections Widgets"},{"location":"boards/widgets/#ibm-connections-widget-setup","text":"Basic instructions for adding Kudos Boards Docker widgets into IBM Connections on-premise environments","title":"IBM Connections Widget Setup"},{"location":"boards/widgets/#community-widget","text":"Check out the widgets-config.xml file. execfile(\"profilesAdmin.py\") ProfilesConfigService.checkOutWidgetConfig(\"/LCCheckedOut\", AdminControl.getCell()) Edit the widgets-config.xml file. Under the section, then under , then within add the following. <!-- Kudos Boards --> <widgetDef defId=\"KudosBoards\" modes=\"view fullpage\" url=\"https://<BOARDS_URL>/boards/community/connections\" themes=\"wpthemeNarrow wpthemeWide wpthemeBanner\" uniqueInstance=\"true\"> <itemSet> <item name=\"resourceId\" value=\"{resourceId}\"/> </itemSet> </widgetDef> <!-- END Kudos Boards --> Check in the widgets-config.xml file. ProfilesConfigService.checkInWidgetConfig()","title":"Community Widget"},{"location":"boards/widgets/#activity-stream-widget","text":"Access Homepage->Administrator Select the following: Open Social Gadget Trusted and Use SSO Show for Activity Stream events All servers Click the Add Mapping button. Add a Mapping for the Kudos Boards service to the Kudos client. Ensure OAuth Client is set to conn-ee and the Service name is Kudos Boards. Click the Ok button Enter The following: Field Value Title Kudos Boards Activity Stream URL Address http://<BOARDS_URL>/stream/connections Secure URL Address https://<BOARDS_URL>/stream/connections ICON URL http://<BOARDS_URL>/favicon.ico ICON SECURE URL https://<BOARDS_URL>/favicon.ico Select: Use IBM Connections specific tags Opened by default Select the following Prerequisites: oauthprovider webresources oauth opensocial Scroll down and Click Save","title":"Activity Stream widget"},{"location":"boards/widgets/#register-widget","text":"Required for IBM Connections 6.0 CR1 onwards execfile(\"newsAdmin.py\") NewsWidgetCatalogService.addWidget(title=\"Kudos Boards\", url=\"http://<BOARDS_URL>/boards/community/connection\" ,secureUrl=\"https://<BOARDS_URL>\"/boards/community/connections, categoryName=WidgetCategories.NONE, isHomepageSpecific=0, isDefaultOpened=0, multipleInstanceAllowed=0, isGadget=0, policyFlags=[GadgetPolicyFlags.TRUSTED], prereqs=['communities'], appContexts=[\"IWIDGETS\"]) NewsWidgetCatalogService.enableWidget(\"<ID_RETURNED>\") NewsWidgetCatalogService.clearWidgetCaches()","title":"Register Widget"},{"location":"boards/ww-commands/","text":"Create a Board Create a List Create a Card Browse Boards, Lists and Cards View the Current Board, Lists and Cards Rename, Archive and Share Boards, Lists and Cards Explore Templates Card Actions Help with Slash Commands Watson Workspace Commands \u00b6 Kudos Boards adds 4 different commands to Watson Workspace - /boards , /lists , /cards , /templates . To run a command: 1. Make sure you have added the Kudos Boards app to the Workspace 2. Type any of the above prefixes in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any parameters if applicable as below. 4. Voil\u00e0! Create a Board \u00b6 Create a Board in a workspace by using the /boards create command as below with the name for your Board. /boards create My New Board This will create a simple Todo, Doing, Done board with the title My New Board . To create boards from templates, see Explore Templates . Create a List \u00b6 Create a List in a workspace by using the /lists create command as below with the name of your list. /lists create My New List This will create a list with the title My New List in the current board. If there is no current board selected, it will create a new board first and then create the list. For more details on the current selection, see View the Current Board, Lists and Cards . Create a Card \u00b6 Create a Card (task) in a workspace by using the /cards create command as below with a brief title for the card. /cards create My New Todo This will create a card with the title My New Todo in the current list in the current board. If there is no current board or list selected, it will first create them as required and then create the card. For more details on the current selection see View the Current Board, Lists and Cards . Browse Boards, Lists and Cards \u00b6 Use the all and search commands in conjunction with any of /boards , /lists or /cards commands to browse items in that space. Examples: /boards all This will show all the boards in the workspace /boards search meetings This will search the boards in the current workspace for the keyword 'meetings' /cards search documentation This will search the cards in the current board for the keyword 'documentation' View the Current Board, Lists and Cards \u00b6 To help you be more efficient, Kudos Boards remembers the card, list and board you last interacted with in each space. Use current with the /boards , /lists or /cards commands to view the current selection. Examples: /boards current /lists current /cards current To change the current selection, simply browse for the items using all , or search and click the Select button. Rename, Archive and Share Boards, Lists and Cards \u00b6 Use rename , archive or share sub-commands with any of the /boards , /lists or /cards commands to perform the action on the current item. Examples: /lists rename This is my new list name This will rename the current list to This is my new list name . /cards archive This will archive the current card. /boards share This will post a message to the space with a link to the current board For more on the current selections see View the Current Board, Lists and Cards . Explore Templates \u00b6 Use the /templates command to explore templates. You may either use the sub-command search to find templates by keywords or all to see a list of all available templates. Example: /templates search project This will show all the templates that contain the keyword project . To create a board from a template, simply click the Create Board button. You may also Preview or Share the template using the controls provided. Card Actions \u00b6 The command /cards has some special sub-commands that allow you to interact with the current card. /cards complete - Toggle completion status of the current card /cards comment My comment on the card - Comment on the current card /cards assign @John Doe - Assign the current card to John Doe Help with Slash Commands \u00b6 Run the help command as per below to get a more detailed summary of Kudos Boards' commands. /boards help","title":"Ww commands"},{"location":"boards/ww-commands/#watson-workspace-commands","text":"Kudos Boards adds 4 different commands to Watson Workspace - /boards , /lists , /cards , /templates . To run a command: 1. Make sure you have added the Kudos Boards app to the Workspace 2. Type any of the above prefixes in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any parameters if applicable as below. 4. Voil\u00e0!","title":"Watson Workspace Commands"},{"location":"boards/ww-commands/#create-a-board","text":"Create a Board in a workspace by using the /boards create command as below with the name for your Board. /boards create My New Board This will create a simple Todo, Doing, Done board with the title My New Board . To create boards from templates, see Explore Templates .","title":"Create a Board"},{"location":"boards/ww-commands/#create-a-list","text":"Create a List in a workspace by using the /lists create command as below with the name of your list. /lists create My New List This will create a list with the title My New List in the current board. If there is no current board selected, it will create a new board first and then create the list. For more details on the current selection, see View the Current Board, Lists and Cards .","title":"Create a List"},{"location":"boards/ww-commands/#create-a-card","text":"Create a Card (task) in a workspace by using the /cards create command as below with a brief title for the card. /cards create My New Todo This will create a card with the title My New Todo in the current list in the current board. If there is no current board or list selected, it will first create them as required and then create the card. For more details on the current selection see View the Current Board, Lists and Cards .","title":"Create a Card"},{"location":"boards/ww-commands/#browse-boards-lists-and-cards","text":"Use the all and search commands in conjunction with any of /boards , /lists or /cards commands to browse items in that space. Examples: /boards all This will show all the boards in the workspace /boards search meetings This will search the boards in the current workspace for the keyword 'meetings' /cards search documentation This will search the cards in the current board for the keyword 'documentation'","title":"Browse Boards, Lists and Cards"},{"location":"boards/ww-commands/#view-the-current-board-lists-and-cards","text":"To help you be more efficient, Kudos Boards remembers the card, list and board you last interacted with in each space. Use current with the /boards , /lists or /cards commands to view the current selection. Examples: /boards current /lists current /cards current To change the current selection, simply browse for the items using all , or search and click the Select button.","title":"View the Current Board, Lists and Cards"},{"location":"boards/ww-commands/#rename-archive-and-share-boards-lists-and-cards","text":"Use rename , archive or share sub-commands with any of the /boards , /lists or /cards commands to perform the action on the current item. Examples: /lists rename This is my new list name This will rename the current list to This is my new list name . /cards archive This will archive the current card. /boards share This will post a message to the space with a link to the current board For more on the current selections see View the Current Board, Lists and Cards .","title":"Rename, Archive and Share Boards, Lists and Cards"},{"location":"boards/ww-commands/#explore-templates","text":"Use the /templates command to explore templates. You may either use the sub-command search to find templates by keywords or all to see a list of all available templates. Example: /templates search project This will show all the templates that contain the keyword project . To create a board from a template, simply click the Create Board button. You may also Preview or Share the template using the controls provided.","title":"Explore Templates"},{"location":"boards/ww-commands/#card-actions","text":"The command /cards has some special sub-commands that allow you to interact with the current card. /cards complete - Toggle completion status of the current card /cards comment My comment on the card - Comment on the current card /cards assign @John Doe - Assign the current card to John Doe","title":"Card Actions"},{"location":"boards/ww-commands/#help-with-slash-commands","text":"Run the help command as per below to get a more detailed summary of Kudos Boards' commands. /boards help","title":"Help with Slash Commands"},{"location":"ideas/","text":"Kudos Ideas \u00b6 The following is a brief document to help you get started and to set you on your innovation journey. Create your first Idea Space \u00b6 Go to the Spaces tab and click the \"+ Idea Space\" button. Give your idea space a title and a good description to help people understand what type of ideas they should submit in this space. Follow through the rest of the Idea Space Creation wizard, feel free to read through each of the options or just leave them at their defaults for now, you can change any of these later. Submit and Vote on Ideas \u00b6 Click the tile for your new Idea Space to open it then click the \"+ Idea\" button to create your first idea. You will automatically vote up ideas that you create yourself, setting their initial vote score to 1. Vote for other peoples ideas from this page or click on them to view more details. Discuss and Promote Ideas \u00b6 Discussion is the true heart of ideation as it allows your ideas to mature as they garner support from your peers. Use the Idea Action Panel (The blue panel on the right) to invite Members to help support your idea or even to embed it in a blog, wiki or other external site.","title":"Kudos Ideas"},{"location":"ideas/#kudos-ideas","text":"The following is a brief document to help you get started and to set you on your innovation journey.","title":"Kudos Ideas"},{"location":"ideas/#create-your-first-idea-space","text":"Go to the Spaces tab and click the \"+ Idea Space\" button. Give your idea space a title and a good description to help people understand what type of ideas they should submit in this space. Follow through the rest of the Idea Space Creation wizard, feel free to read through each of the options or just leave them at their defaults for now, you can change any of these later.","title":"Create your first Idea Space"},{"location":"ideas/#submit-and-vote-on-ideas","text":"Click the tile for your new Idea Space to open it then click the \"+ Idea\" button to create your first idea. You will automatically vote up ideas that you create yourself, setting their initial vote score to 1. Vote for other peoples ideas from this page or click on them to view more details.","title":"Submit and Vote on Ideas"},{"location":"ideas/#discuss-and-promote-ideas","text":"Discussion is the true heart of ideation as it allows your ideas to mature as they garner support from your peers. Use the Idea Action Panel (The blue panel on the right) to invite Members to help support your idea or even to embed it in a blog, wiki or other external site.","title":"Discuss and Promote Ideas"},{"location":"ideas/ww-commands/","text":"Submit An Idea Browse Ideas Vote on an Idea Share an Idea with the Workspace View Idea Details Help with Slash Commands Watson Workspace Slash Commands \u00b6 All Kudos Ideas commands in Watson Workspace start with the prefix /ideas . To run a command: 1. Make sure you have added the Kudos Ideas app to the Workspace 2. Type /ideas in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any applicable parameters as below. 4. Press Enter Submit An Idea \u00b6 Submit an idea in a workspace by using the create command as below with a brief title for your idea. /ideas create My Awesome Idea! This will create a new idea with the title My Awesome Idea! and show you a detailed view of the idea you just created. Browse Ideas \u00b6 To view all the ideas in a Workspace simply use the list command as below: /ideas list This will show you a list of all the ideas in the workspace. Vote on an Idea \u00b6 List all Ideas using the above list command. Click on the Vote button on the idea you wish to vote up. Share an Idea with the Workspace \u00b6 List all Ideas using the above list command. Click on the Share button on the idea you wish to share. This will post a message in the Workspace with a link to the shared idea. View Idea Details \u00b6 List all Ideas using the above list command. Click on the View Idea button on the idea you wish to view. This will show you more details about the idea and also give you a link to the full Idea page in Kudos Ideas . Help with Slash Commands \u00b6 Run the help command as per below to get a more detailed summary of the Kudos Ideas commands. /ideas help","title":"Ww commands"},{"location":"ideas/ww-commands/#watson-workspace-slash-commands","text":"All Kudos Ideas commands in Watson Workspace start with the prefix /ideas . To run a command: 1. Make sure you have added the Kudos Ideas app to the Workspace 2. Type /ideas in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any applicable parameters as below. 4. Press Enter","title":"Watson Workspace Slash Commands"},{"location":"ideas/ww-commands/#submit-an-idea","text":"Submit an idea in a workspace by using the create command as below with a brief title for your idea. /ideas create My Awesome Idea! This will create a new idea with the title My Awesome Idea! and show you a detailed view of the idea you just created.","title":"Submit An Idea"},{"location":"ideas/ww-commands/#browse-ideas","text":"To view all the ideas in a Workspace simply use the list command as below: /ideas list This will show you a list of all the ideas in the workspace.","title":"Browse Ideas"},{"location":"ideas/ww-commands/#vote-on-an-idea","text":"List all Ideas using the above list command. Click on the Vote button on the idea you wish to vote up.","title":"Vote on an Idea"},{"location":"ideas/ww-commands/#share-an-idea-with-the-workspace","text":"List all Ideas using the above list command. Click on the Share button on the idea you wish to share. This will post a message in the Workspace with a link to the shared idea.","title":"Share an Idea with the Workspace"},{"location":"ideas/ww-commands/#view-idea-details","text":"List all Ideas using the above list command. Click on the View Idea button on the idea you wish to view. This will show you more details about the idea and also give you a link to the full Idea page in Kudos Ideas .","title":"View Idea Details"},{"location":"ideas/ww-commands/#help-with-slash-commands","text":"Run the help command as per below to get a more detailed summary of the Kudos Ideas commands. /ideas help","title":"Help with Slash Commands"},{"location":"swarm/","text":"Docker Swarm \u00b6 STEPS - OUTLINE: \u00b6 Gateway + storage \u00b6 Create a CentOS 7 host with external IP Map DNS to instance Set up NFS Server Install docker + docker-compose Deploy nginx load balancer via docker-compose Create swarm \u00b6 Create CoreOS hosts Connect all nodes into a swarm Set up proxy and portainer Set up docker config to access private image repo Deploy app with required config and images STEPS - MANUAL: \u00b6 Setup NFS server in centos \u00b6 sudo su firewall-cmd --permanent --zone=public --add-service=nfs firewall-cmd --reload yum -y install nfs-utils systemctl enable nfs-server.service systemctl start nfs-server.service mkdir -p /data/nfs chown -R nfsnobody:nfsnobody /data chmod -R 755 /data echo \"/data/nfs 10.142.0.1/24(rw,sync,no_subtree_check,no_root_squash)\" >> /etc/exports exportfs -a Install Docker & Docker-compose on CentOS \u00b6 curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh sudo usermod -aG docker support sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose RUN NGINX LOAD BALANCER \u00b6 From local machine transfer docker compose and other config\u2028: gcloud compute scp . support@gateway-1:/opt/setup/ --recurse On gateway node: cd /opt/setup \u2028docker-compose up -d\u2028 Create Node Swarm \u00b6 docker swarm init docker swarm join-token manager <run printed join command> Mount NFS ON all swarm nodes \u00b6 sudo mkdir -p /data/nfs && sudo mount 10.142.0.5:/data/nfs /data/nfs Deploy proxy & portainer \u00b6 On a swarm manager node-1: sudo mkdir /opt/setup -p sudo chmod -R +777 /opt From local machine transfer remote files: gcloud compute scp . support@node-1:/opt/setup/ --recurse On a swarm manager node-1: cd /opt/setup # configure repo credentials mkdir -p ~/.docker && cp config.json ~/.docker/config.json # create network for proxy docker network create --driver=overlay --internal=false proxy # create required dirs and move ssl sudo mkdir /data/nfs/sslcerts sudo mkdir /data/nfs/portainer sudo mv /opt/setup/ssl/* /data/nfs/sslcerts # deploy proxy & portainer docker stack deploy -c proxy.yml proxy docker stack deploy -c portainer.yml portainer Optional commands/steps \u00b6 deploy app with registry auth docker stack deploy -c app.yml app --with-registry-auth commands to exec based on service_name docker exec -ti service_name.1.$(docker service ps -f 'name=service_name.1' service_name -q --no-trunc | head -n1) sh Mongo replica set docker exec -ti m_mongo1.1.$(docker service ps -f 'name=m_mongo1.1' m_mongo1 -q --no-trunc | head -n1) bash mongo > rs.initiate( { _id : \"rs0\", members: [ { _id: 0, host: \"mongo1:27017\" }, { _id: 1, host: \"mongo2:27017\" }, { _id: 2, host: \"mongo3:27017\" } ] }) #test connection mongo --host rs0/mongo1:27017,mongo2:27017,mongo3:27017 mongo \"mongodb://mongo1:27017,mongo2:27017,mongo3:27017/myDB?replicaSet=rs0\" Sticky sessions - add following label to container traefik.backend.loadbalancer.stickiness=true Docker-compose in CoreOS for debugging stack ymls sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /opt/bin/docker-compose sudo chmod +x /opt/bin/docker-compose TODO \u00b6 General \u00b6 Logging is not so reliable, look into custom logging drivers. logstash? Delivery model? script? Role to deploy Mongo Role to deploy Boards and Ideas Role to deploy with buzzy image Resource allocation through compose Resource monitoring? Does portainer do that? SECURITY \u00b6 Storage is on externally accessible machine?! but nfs server is only allowed on local ip mask mongodb auth + add creds docker repo access config is basic auth Gotchas \u00b6 Volumes need to be manually removed on all nodes if they are broken or config is updated, they are not removed as part of the stack traefik labels need to be on the container not on the service, i.e. under deploy:","title":"Docker Swarm"},{"location":"swarm/#docker-swarm","text":"","title":"Docker Swarm"},{"location":"swarm/#steps-outline","text":"","title":"STEPS - OUTLINE:"},{"location":"swarm/#gateway-storage","text":"Create a CentOS 7 host with external IP Map DNS to instance Set up NFS Server Install docker + docker-compose Deploy nginx load balancer via docker-compose","title":"Gateway + storage"},{"location":"swarm/#create-swarm","text":"Create CoreOS hosts Connect all nodes into a swarm Set up proxy and portainer Set up docker config to access private image repo Deploy app with required config and images","title":"Create swarm"},{"location":"swarm/#steps-manual","text":"","title":"STEPS - MANUAL:"},{"location":"swarm/#setup-nfs-server-in-centos","text":"sudo su firewall-cmd --permanent --zone=public --add-service=nfs firewall-cmd --reload yum -y install nfs-utils systemctl enable nfs-server.service systemctl start nfs-server.service mkdir -p /data/nfs chown -R nfsnobody:nfsnobody /data chmod -R 755 /data echo \"/data/nfs 10.142.0.1/24(rw,sync,no_subtree_check,no_root_squash)\" >> /etc/exports exportfs -a","title":"Setup NFS server in centos"},{"location":"swarm/#install-docker-docker-compose-on-centos","text":"curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh sudo usermod -aG docker support sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose","title":"Install Docker &amp; Docker-compose on CentOS"},{"location":"swarm/#run-nginx-load-balancer","text":"From local machine transfer docker compose and other config\u2028: gcloud compute scp . support@gateway-1:/opt/setup/ --recurse On gateway node: cd /opt/setup \u2028docker-compose up -d","title":"RUN NGINX LOAD BALANCER"},{"location":"swarm/#create-node-swarm","text":"docker swarm init docker swarm join-token manager <run printed join command>","title":"Create Node Swarm"},{"location":"swarm/#mount-nfs-on-all-swarm-nodes","text":"sudo mkdir -p /data/nfs && sudo mount 10.142.0.5:/data/nfs /data/nfs","title":"Mount NFS ON all swarm nodes"},{"location":"swarm/#deploy-proxy-portainer","text":"On a swarm manager node-1: sudo mkdir /opt/setup -p sudo chmod -R +777 /opt From local machine transfer remote files: gcloud compute scp . support@node-1:/opt/setup/ --recurse On a swarm manager node-1: cd /opt/setup # configure repo credentials mkdir -p ~/.docker && cp config.json ~/.docker/config.json # create network for proxy docker network create --driver=overlay --internal=false proxy # create required dirs and move ssl sudo mkdir /data/nfs/sslcerts sudo mkdir /data/nfs/portainer sudo mv /opt/setup/ssl/* /data/nfs/sslcerts # deploy proxy & portainer docker stack deploy -c proxy.yml proxy docker stack deploy -c portainer.yml portainer","title":"Deploy proxy &amp; portainer"},{"location":"swarm/#optional-commandssteps","text":"deploy app with registry auth docker stack deploy -c app.yml app --with-registry-auth commands to exec based on service_name docker exec -ti service_name.1.$(docker service ps -f 'name=service_name.1' service_name -q --no-trunc | head -n1) sh Mongo replica set docker exec -ti m_mongo1.1.$(docker service ps -f 'name=m_mongo1.1' m_mongo1 -q --no-trunc | head -n1) bash mongo > rs.initiate( { _id : \"rs0\", members: [ { _id: 0, host: \"mongo1:27017\" }, { _id: 1, host: \"mongo2:27017\" }, { _id: 2, host: \"mongo3:27017\" } ] }) #test connection mongo --host rs0/mongo1:27017,mongo2:27017,mongo3:27017 mongo \"mongodb://mongo1:27017,mongo2:27017,mongo3:27017/myDB?replicaSet=rs0\" Sticky sessions - add following label to container traefik.backend.loadbalancer.stickiness=true Docker-compose in CoreOS for debugging stack ymls sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /opt/bin/docker-compose sudo chmod +x /opt/bin/docker-compose","title":"Optional commands/steps"},{"location":"swarm/#todo","text":"","title":"TODO"},{"location":"swarm/#general","text":"Logging is not so reliable, look into custom logging drivers. logstash? Delivery model? script? Role to deploy Mongo Role to deploy Boards and Ideas Role to deploy with buzzy image Resource allocation through compose Resource monitoring? Does portainer do that?","title":"General"},{"location":"swarm/#security","text":"Storage is on externally accessible machine?! but nfs server is only allowed on local ip mask mongodb auth + add creds docker repo access config is basic auth","title":"SECURITY"},{"location":"swarm/#gotchas","text":"Volumes need to be manually removed on all nodes if they are broken or config is updated, they are not removed as part of the stack traefik labels need to be on the container not on the service, i.e. under deploy:","title":"Gotchas"},{"location":"swarm/info/","text":"Deploying Apps in Portainer \u00b6 Create GCloud Servers SSH to each server to trust IP ssh -i /home/awelch/.ssh/google_compute_engine 35.211.3.188 Update ansible hosts file with Node IPs Setup servers with docker-swarm, Portainer & Traefik cd /devops/docker-swarm/ansible ansible-playbook -i hosts/gcloud.yml deploy.yml -v Create admin user in Portainer Open Dashboard as defined in {{dashboard_host}} e.g. https://swarm.isw.net.au Add Dockerhub auth Open Registries Tick Authentication add Username, Password Deploy App Stacks (& optional logging stack) Open Stacks Add Stack Give it a name Add the yml For all the details to deploy Kudos Boards see here Update DNS records with a cname entry pointing to {{dashboard_host}} For example: staging.kudosboards.com -> swarm.isw.net.au staging-api.kudosboards.com -> swarm.isw.net.au kibana-staging.kudosboards.com -> swarm.isw.net.au Configure Kibana logs login to kibana, ie https://kibana-staging.kudosboards.com create index on logstash* create search, open discover, select docker.name + message fields save Troubleshooting \u00b6 Recover from Cluster crash \u00b6 Start new cluster docker swarm init --force-new-cluster --advertise-addr 10.142.0.12:2377 Check other Nodes automatically join new cluster docker node ls If they don't, use the join command provided, ie: docker swarm join --token SWMTKN-1-1korweqob1x2530nc34uex84j03pa1e3x7qg5z2pt4bvt2fo5i-0aoijiczvso7socyzlrucbu8y 10.142.0.12:2377 List 'Down' nodes docker node ls Remove 'Down' nodes docker node demote <node_id> docker node rm <node_id> Recover from Service crash \u00b6 Run deploy stacks again Update each stack/service through Portainer Rebalance containers on Nodes \u00b6 docker service update --force <stack>_<service> ie: docker service update --force portainer_portainer proxy_proxy portainer_agent","title":"Info"},{"location":"swarm/info/#deploying-apps-in-portainer","text":"Create GCloud Servers SSH to each server to trust IP ssh -i /home/awelch/.ssh/google_compute_engine 35.211.3.188 Update ansible hosts file with Node IPs Setup servers with docker-swarm, Portainer & Traefik cd /devops/docker-swarm/ansible ansible-playbook -i hosts/gcloud.yml deploy.yml -v Create admin user in Portainer Open Dashboard as defined in {{dashboard_host}} e.g. https://swarm.isw.net.au Add Dockerhub auth Open Registries Tick Authentication add Username, Password Deploy App Stacks (& optional logging stack) Open Stacks Add Stack Give it a name Add the yml For all the details to deploy Kudos Boards see here Update DNS records with a cname entry pointing to {{dashboard_host}} For example: staging.kudosboards.com -> swarm.isw.net.au staging-api.kudosboards.com -> swarm.isw.net.au kibana-staging.kudosboards.com -> swarm.isw.net.au Configure Kibana logs login to kibana, ie https://kibana-staging.kudosboards.com create index on logstash* create search, open discover, select docker.name + message fields save","title":"Deploying Apps in Portainer"},{"location":"swarm/info/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"swarm/info/#recover-from-cluster-crash","text":"Start new cluster docker swarm init --force-new-cluster --advertise-addr 10.142.0.12:2377 Check other Nodes automatically join new cluster docker node ls If they don't, use the join command provided, ie: docker swarm join --token SWMTKN-1-1korweqob1x2530nc34uex84j03pa1e3x7qg5z2pt4bvt2fo5i-0aoijiczvso7socyzlrucbu8y 10.142.0.12:2377 List 'Down' nodes docker node ls Remove 'Down' nodes docker node demote <node_id> docker node rm <node_id>","title":"Recover from Cluster crash"},{"location":"swarm/info/#recover-from-service-crash","text":"Run deploy stacks again Update each stack/service through Portainer","title":"Recover from Service crash"},{"location":"swarm/info/#rebalance-containers-on-nodes","text":"docker service update --force <stack>_<service> ie: docker service update --force portainer_portainer proxy_proxy portainer_agent","title":"Rebalance containers on Nodes"},{"location":"swarm/setup/","text":"Overview / Introduction \u00b6 While there are many ways to setup a docker swarm environment, this document will step through setting up a functional environment that includes: Shared storage with nfs http(s) proxy traefik Database mongo File storage minio Management interface portainer Logging elk stack - (optional) Monitoring prometheus/grafana - (optional) Server information \u00b6 As the name swarm suggests, this setup is designed to run across a number of servers (referred to as nodes). ISW recommends that the minimum number of servers you should start with is 4, being one for the NFS server and http gateway and 3 swarm managers. You may start with small VMs to set this up and expand them as your need increases (either by extending cores and ram on the existing servers or by adding more manager/worker nodes to your swarm). This document will assume the following setup: Gateway server (CentOS) 3 Swarm managers (CoreOS) If you have more managers or workers just extend the config where indicated below. If you are testing this setup, you can get away with quite small servers (we have had success with 2 cores and 1.7gb ram) however if you plan to include the logging and/or monitoring services then you should expect to dedicate an additional 1gb ram minimum for each of these sevices. The Gateway Server will be used for storing all persistent data in nfs shares, if you are setting this environment up for a production system then you should ensure that you have a suitably performant disk for the path /data on this server, you should also ensure that this folder is backed up appropriately. Small (test) Medium (<1000 users) Large (>1000 users) Gateway 1 1 1 Managers 3 3 3 Workers 0 0 1 per extra 5000 users Memory 2GB 4GB 8GB CPU 2 2 4 Disk (Nodes) 20GB 40GB 100GB min Disk (Gateway) 20GB 40GB 100GB min Network setup \u00b6 The setup below will establish some internal networking rules to help protect your environment. When configuring the servers, you will need to enable the following network rules: http(s) traffic should be allowed to the Gateway only ssh traffic should be allowed to all servers Where possible all servers should be on an additional (internal only) subnet, this allows us to further lock down access to NFS shares Setup Ansible \u00b6 Throughout this guide we will use ansible to setup the servers and deploy services (stacks) to the swarm. If you have access to a Mac or Linux machine, follow these instructions to get up and running. Whilst that document states windows is not supported, We have had success running ansible under windows by enabling WSL (Windows subsystem for Linux), installing Ubuntu from the windows store and proceeding with the Ubuntu instructions linked. Refer to this document from Microsoft for more information on WSL and the windows store options. TODO: they need access to our ansible setup!!! Server access \u00b6 Ansible uses ssh to communicate with the servers so you'll need to be able to access them from your shell directly. The ideal way to achieve this is to setup key based authentication, however there are workarounds that can be done if you have to use password based authentication. For more info on setting up an ssh private key, see this tutorial As mentioned in the linked article, we will need to add each of our servers to our local list of known hosts, this is done by manually connecting to each of them for our shell. ssh -i path/to/keyfile <username>@<server_ip> e.g. ssh -i /home/nicky/.ssh/id_rsa nicky@10.10.10.1 Config \u00b6 Download this hosts file and update the values as follows: Key Description all.hosts.gateway.ansible_host IP For Gateway server accessible from your machine all.hosts.nfs_server.ansible_host IP For Gateway server accessible from your machine all.hosts.nfs_server.internal_ip internal IP For Gateway server, if you do not have an internal subnet, use the same IP as above all.hosts.manager(1,2,3).ansible_host IP For Manager node accessible from your machine all.hosts.manager(1,2,3).internal_ip internal IP For Manager node, if you do not have an internal subnet, use the same IP as above all.vars.ansible_user Your username on all servers all.vars.ansible_ssh_private_key_file Full path to your keyfile (leave blank if using password auth) all.vars.swarm_ip_mask ip mask that matches your internal subnet e.g. 10.10.10.10/24, or that matches all swarm nodes if you do not have an internal subnet all.vars.ssl_certs For ssl to work on your environment, you need to have a pem encoded certificate and keyfile for each domain you plan to serve on. You should name these files name.crt and name.key and then add all of the names in this field all.vars.dashboard_host The domain name for your portainer dashboard all.vars.proxy_dashboard_host The domain name for your traefik proxy dashboard all.vars.monitoring This section will be covered in Advanced below, you should get the swarm up and running first before adding monitoring all.children This section of the config file is for defining where your nodes will sit, please follow the instructions provided in the file itself, adding all nodes to the coreos group, and managers and workers to their respective groups Deploy \u00b6 Save your config file in the hosts directory run the deploy playbook: ansible-playbook -i hosts/swarm.yml deploy.yml -v Update DNS records \u00b6 Ensure that DNS records for your portainer dashbaord and traefik dashboard as defined in your config file are pointing to your Gateway server Portainer Setup \u00b6 Open Dashboard as defined in {{dashboard_host}} above Create admin user when prompted TODO: confirm this Add Dockerhub auth Open Registries Tick Authentication add Username, Password Run Kudos Boards (and other apps) with Portainer \u00b6 See Kudos Boards for Docker Swarm for a step by step guide to running Kudos Boards on your new environment. Advanced (logging and monitoring) \u00b6 TODO Troubleshooting \u00b6 Recover from Cluster crash \u00b6 Start new cluster docker swarm init --force-new-cluster --advertise-addr 10.142.0.12:2377 Check other Nodes automatically join new cluster docker node ls If they don't, use the join command provided, ie: docker swarm join --token SWMTKN-1-1korweqob1x2530nc34uex84j03pa1e3x7qg5z2pt4bvt2fo5i-0aoijiczvso7socyzlrucbu8y 10.142.0.12:2377 List 'Down' nodes docker node ls Remove 'Down' nodes docker node demote <node_id> docker node rm <node_id> Recover from Service crash \u00b6 Run deploy stacks again Update each stack/service through Portainer Rebalance containers on Nodes \u00b6 docker service update --force <stack>_<service> ie: docker service update --force portainer_portainer proxy_proxy portainer_agent","title":"Docker Swarm"},{"location":"swarm/setup/#overview-introduction","text":"While there are many ways to setup a docker swarm environment, this document will step through setting up a functional environment that includes: Shared storage with nfs http(s) proxy traefik Database mongo File storage minio Management interface portainer Logging elk stack - (optional) Monitoring prometheus/grafana - (optional)","title":"Overview / Introduction"},{"location":"swarm/setup/#server-information","text":"As the name swarm suggests, this setup is designed to run across a number of servers (referred to as nodes). ISW recommends that the minimum number of servers you should start with is 4, being one for the NFS server and http gateway and 3 swarm managers. You may start with small VMs to set this up and expand them as your need increases (either by extending cores and ram on the existing servers or by adding more manager/worker nodes to your swarm). This document will assume the following setup: Gateway server (CentOS) 3 Swarm managers (CoreOS) If you have more managers or workers just extend the config where indicated below. If you are testing this setup, you can get away with quite small servers (we have had success with 2 cores and 1.7gb ram) however if you plan to include the logging and/or monitoring services then you should expect to dedicate an additional 1gb ram minimum for each of these sevices. The Gateway Server will be used for storing all persistent data in nfs shares, if you are setting this environment up for a production system then you should ensure that you have a suitably performant disk for the path /data on this server, you should also ensure that this folder is backed up appropriately. Small (test) Medium (<1000 users) Large (>1000 users) Gateway 1 1 1 Managers 3 3 3 Workers 0 0 1 per extra 5000 users Memory 2GB 4GB 8GB CPU 2 2 4 Disk (Nodes) 20GB 40GB 100GB min Disk (Gateway) 20GB 40GB 100GB min","title":"Server information"},{"location":"swarm/setup/#network-setup","text":"The setup below will establish some internal networking rules to help protect your environment. When configuring the servers, you will need to enable the following network rules: http(s) traffic should be allowed to the Gateway only ssh traffic should be allowed to all servers Where possible all servers should be on an additional (internal only) subnet, this allows us to further lock down access to NFS shares","title":"Network setup"},{"location":"swarm/setup/#setup-ansible","text":"Throughout this guide we will use ansible to setup the servers and deploy services (stacks) to the swarm. If you have access to a Mac or Linux machine, follow these instructions to get up and running. Whilst that document states windows is not supported, We have had success running ansible under windows by enabling WSL (Windows subsystem for Linux), installing Ubuntu from the windows store and proceeding with the Ubuntu instructions linked. Refer to this document from Microsoft for more information on WSL and the windows store options. TODO: they need access to our ansible setup!!!","title":"Setup Ansible"},{"location":"swarm/setup/#server-access","text":"Ansible uses ssh to communicate with the servers so you'll need to be able to access them from your shell directly. The ideal way to achieve this is to setup key based authentication, however there are workarounds that can be done if you have to use password based authentication. For more info on setting up an ssh private key, see this tutorial As mentioned in the linked article, we will need to add each of our servers to our local list of known hosts, this is done by manually connecting to each of them for our shell. ssh -i path/to/keyfile <username>@<server_ip> e.g. ssh -i /home/nicky/.ssh/id_rsa nicky@10.10.10.1","title":"Server access"},{"location":"swarm/setup/#config","text":"Download this hosts file and update the values as follows: Key Description all.hosts.gateway.ansible_host IP For Gateway server accessible from your machine all.hosts.nfs_server.ansible_host IP For Gateway server accessible from your machine all.hosts.nfs_server.internal_ip internal IP For Gateway server, if you do not have an internal subnet, use the same IP as above all.hosts.manager(1,2,3).ansible_host IP For Manager node accessible from your machine all.hosts.manager(1,2,3).internal_ip internal IP For Manager node, if you do not have an internal subnet, use the same IP as above all.vars.ansible_user Your username on all servers all.vars.ansible_ssh_private_key_file Full path to your keyfile (leave blank if using password auth) all.vars.swarm_ip_mask ip mask that matches your internal subnet e.g. 10.10.10.10/24, or that matches all swarm nodes if you do not have an internal subnet all.vars.ssl_certs For ssl to work on your environment, you need to have a pem encoded certificate and keyfile for each domain you plan to serve on. You should name these files name.crt and name.key and then add all of the names in this field all.vars.dashboard_host The domain name for your portainer dashboard all.vars.proxy_dashboard_host The domain name for your traefik proxy dashboard all.vars.monitoring This section will be covered in Advanced below, you should get the swarm up and running first before adding monitoring all.children This section of the config file is for defining where your nodes will sit, please follow the instructions provided in the file itself, adding all nodes to the coreos group, and managers and workers to their respective groups","title":"Config"},{"location":"swarm/setup/#deploy","text":"Save your config file in the hosts directory run the deploy playbook: ansible-playbook -i hosts/swarm.yml deploy.yml -v","title":"Deploy"},{"location":"swarm/setup/#update-dns-records","text":"Ensure that DNS records for your portainer dashbaord and traefik dashboard as defined in your config file are pointing to your Gateway server","title":"Update DNS records"},{"location":"swarm/setup/#portainer-setup","text":"Open Dashboard as defined in {{dashboard_host}} above Create admin user when prompted TODO: confirm this Add Dockerhub auth Open Registries Tick Authentication add Username, Password","title":"Portainer Setup"},{"location":"swarm/setup/#run-kudos-boards-and-other-apps-with-portainer","text":"See Kudos Boards for Docker Swarm for a step by step guide to running Kudos Boards on your new environment.","title":"Run Kudos Boards (and other apps) with Portainer"},{"location":"swarm/setup/#advanced-logging-and-monitoring","text":"TODO","title":"Advanced (logging and monitoring)"},{"location":"swarm/setup/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"swarm/setup/#recover-from-cluster-crash","text":"Start new cluster docker swarm init --force-new-cluster --advertise-addr 10.142.0.12:2377 Check other Nodes automatically join new cluster docker node ls If they don't, use the join command provided, ie: docker swarm join --token SWMTKN-1-1korweqob1x2530nc34uex84j03pa1e3x7qg5z2pt4bvt2fo5i-0aoijiczvso7socyzlrucbu8y 10.142.0.12:2377 List 'Down' nodes docker node ls Remove 'Down' nodes docker node demote <node_id> docker node rm <node_id>","title":"Recover from Cluster crash"},{"location":"swarm/setup/#recover-from-service-crash","text":"Run deploy stacks again Update each stack/service through Portainer","title":"Recover from Service crash"},{"location":"swarm/setup/#rebalance-containers-on-nodes","text":"docker service update --force <stack>_<service> ie: docker service update --force portainer_portainer proxy_proxy portainer_agent","title":"Rebalance containers on Nodes"}]}
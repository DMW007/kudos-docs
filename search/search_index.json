{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Kudos Docs \u00b6 This site contains technical and user documentation for Kudos Apps. For purchase and product information visit kudosapps.com .","title":"Welcome"},{"location":"#welcome-to-kudos-docs","text":"This site contains technical and user documentation for Kudos Apps. For purchase and product information visit kudosapps.com .","title":"Welcome to Kudos Docs"},{"location":"boards/","text":"Kudos Boards Overview \u00b6 Here are some quick instructions to help you get started with Kudos Boards. Create A Board \u00b6 From the My Boards homepage, click on the New Board button. Enter a name and description for your new board. Don't worry you can edit these later. Select any users or groups you would like to add to your board. Also select if you would like to share this board with the rest of your team. These settings can be changed after a board has been created as well. Select from our range of quick templates; Search the template library for a more sophisticated template; Or Select Blank to choose your own adventure! Click Create The board is now ready to use! Add Lists and Cards \u00b6 Add lists to a board to categorise todos and entries. Click on Add a List to add a new list to your board. Click on Add a Card in any list to add a card to that list. Add cards to your lists to represent Tasks, Work Items, Decisions, Ideas, Notes, Options, Sub-lists - Really anything you need them to represent. The beauty of this design is that you can use lists and cards to mean anything you need to for the task at hand. Assign Tasks To Others \u00b6 Assign Tasks to people in the board by either dragging their photo from the members panel in the right side bar. Or use the Assign Users control from the card details view. When you assign a card to a person, they are notified of the assignment via email and also via any news feeds that board has access to (Workspace chat, Connections activity stream, etc.). Plan Your Tasks \u00b6 Boards lets you assign due dates to card to help you better plan your tasks. Go to the Timeline View in a board to view the cards by their due dates. To set a due date on a card, or to change a due date simply drag the card to another list. For example, dragging a card from the No Date list to the Tomorrow list sets the due date of that card to tomorrow. View Card Details \u00b6 Click on a card to open it. The card details popup gives you access to a whole range of information and controls for the card. It lets you view and edit the card's name, completion status, description, tags, attachments, comments, due date, colour labels, fields and much more! Edit Board Options \u00b6 Click on the Edit icon on the top right of the board to open the Board details view. This view lets you edit the board's name, description, tags, due date and more. It also let's you create a templates and archive the board. Add and Remove Board Members \u00b6 Click on Members in the right sidebar to open the Board Members view. You can view all the orgs, individuals and groups who have access to this board. If you have Owner role for the board, you can also add and remove members from this view. Colour Code Your Cards \u00b6 Kudos Boards allows you to colour code your tasks by simply dragging and dropping the colours from the right sidebar onto cards. You can also assign custom text labels to each of the colours by simply clicking the edit icon in the Colour Labels section in the right sidebar. These labels are set at the board level and everyone in the board will see the same labels. Colour Code Your Boards \u00b6 Kudos Boards let's you colour code all your boards to help you personally manage and categorise your work. To colour code a board tile in the My Boards view, simply drag a colour from the left sidebar and drop it on a board. Much like card colour labels, you can also add custom text labels to these colours, however, this is for your personal organisation and as such will only be visible to you. To edit the board colour labels, click the edit icon in the Tile Colours section in the left sidebar.","title":"Overview"},{"location":"boards/#kudos-boards-overview","text":"Here are some quick instructions to help you get started with Kudos Boards.","title":"Kudos Boards Overview"},{"location":"boards/#create-a-board","text":"From the My Boards homepage, click on the New Board button. Enter a name and description for your new board. Don't worry you can edit these later. Select any users or groups you would like to add to your board. Also select if you would like to share this board with the rest of your team. These settings can be changed after a board has been created as well. Select from our range of quick templates; Search the template library for a more sophisticated template; Or Select Blank to choose your own adventure! Click Create The board is now ready to use!","title":"Create A Board"},{"location":"boards/#add-lists-and-cards","text":"Add lists to a board to categorise todos and entries. Click on Add a List to add a new list to your board. Click on Add a Card in any list to add a card to that list. Add cards to your lists to represent Tasks, Work Items, Decisions, Ideas, Notes, Options, Sub-lists - Really anything you need them to represent. The beauty of this design is that you can use lists and cards to mean anything you need to for the task at hand.","title":"Add Lists and Cards"},{"location":"boards/#assign-tasks-to-others","text":"Assign Tasks to people in the board by either dragging their photo from the members panel in the right side bar. Or use the Assign Users control from the card details view. When you assign a card to a person, they are notified of the assignment via email and also via any news feeds that board has access to (Workspace chat, Connections activity stream, etc.).","title":"Assign Tasks To Others"},{"location":"boards/#plan-your-tasks","text":"Boards lets you assign due dates to card to help you better plan your tasks. Go to the Timeline View in a board to view the cards by their due dates. To set a due date on a card, or to change a due date simply drag the card to another list. For example, dragging a card from the No Date list to the Tomorrow list sets the due date of that card to tomorrow.","title":"Plan Your Tasks"},{"location":"boards/#view-card-details","text":"Click on a card to open it. The card details popup gives you access to a whole range of information and controls for the card. It lets you view and edit the card's name, completion status, description, tags, attachments, comments, due date, colour labels, fields and much more!","title":"View Card Details"},{"location":"boards/#edit-board-options","text":"Click on the Edit icon on the top right of the board to open the Board details view. This view lets you edit the board's name, description, tags, due date and more. It also let's you create a templates and archive the board.","title":"Edit Board Options"},{"location":"boards/#add-and-remove-board-members","text":"Click on Members in the right sidebar to open the Board Members view. You can view all the orgs, individuals and groups who have access to this board. If you have Owner role for the board, you can also add and remove members from this view.","title":"Add and Remove Board Members"},{"location":"boards/#colour-code-your-cards","text":"Kudos Boards allows you to colour code your tasks by simply dragging and dropping the colours from the right sidebar onto cards. You can also assign custom text labels to each of the colours by simply clicking the edit icon in the Colour Labels section in the right sidebar. These labels are set at the board level and everyone in the board will see the same labels.","title":"Colour Code Your Cards"},{"location":"boards/#colour-code-your-boards","text":"Kudos Boards let's you colour code all your boards to help you personally manage and categorise your work. To colour code a board tile in the My Boards view, simply drag a colour from the left sidebar and drop it on a board. Much like card colour labels, you can also add custom text labels to these colours, however, this is for your personal organisation and as such will only be visible to you. To edit the board colour labels, click the edit icon in the Tile Colours section in the left sidebar.","title":"Colour Code Your Boards"},{"location":"boards/cloud/","text":"Kudos Boards Docker \u00b6","title":"Cloud"},{"location":"boards/cloud/#kudos-boards-docker","text":"","title":"Kudos Boards Docker"},{"location":"boards/on-premise/","text":"Kudos Boards Websphere \u00b6","title":"On-premise"},{"location":"boards/on-premise/#kudos-boards-websphere","text":"","title":"Kudos Boards Websphere"},{"location":"boards/ww-commands/","text":"Create a Board Create a List Create a Card Browse Boards, Lists and Cards View the Current Board, Lists and Cards Rename, Archive and Share Boards, Lists and Cards Explore Templates Card Actions Help with Slash Commands Watson Workspace Commands \u00b6 Kudos Boards adds 4 different commands to Watson Workspace - /boards , /lists , /cards , /templates . To run a command: 1. Make sure you have added the Kudos Boards app to the Workspace 2. Type any of the above prefixes in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any parameters if applicable as below. 4. Voil\u00e0! Create a Board \u00b6 Create a Board in a workspace by using the /boards create command as below with the name for your Board. /boards create My New Board This will create a simple Todo, Doing, Done board with the title My New Board . To create boards from templates, see Explore Templates . Create a List \u00b6 Create a List in a workspace by using the /lists create command as below with the name of your list. /lists create My New List This will create a list with the title My New List in the current board. If there is no current board selected, it will create a new board first and then create the list. For more details on the current selection, see View the Current Board, Lists and Cards . Create a Card \u00b6 Create a Card (task) in a workspace by using the /cards create command as below with a brief title for the card. /cards create My New Todo This will create a card with the title My New Todo in the current list in the current board. If there is no current board or list selected, it will first create them as required and then create the card. For more details on the current selection see View the Current Board, Lists and Cards . Browse Boards, Lists and Cards \u00b6 Use the all and search commands in conjunction with any of /boards , /lists or /cards commands to browse items in that space. Examples: /boards all This will show all the boards in the workspace /boards search meetings This will search the boards in the current workspace for the keyword 'meetings' /cards search documentation This will search the cards in the current board for the keyword 'documentation' View the Current Board, Lists and Cards \u00b6 To help you be more efficient, Kudos Boards remembers the card, list and board you last interacted with in each space. Use current with the /boards , /lists or /cards commands to view the current selection. Examples: /boards current /lists current /cards current To change the current selection, simply browse for the items using all , or search and click the Select button. Rename, Archive and Share Boards, Lists and Cards \u00b6 Use rename , archive or share sub-commands with any of the /boards , /lists or /cards commands to perform the action on the current item. Examples: /lists rename This is my new list name This will rename the current list to This is my new list name . /cards archive This will archive the current card. /boards share This will post a message to the space with a link to the current board For more on the current selections see View the Current Board, Lists and Cards . Explore Templates \u00b6 Use the /templates command to explore templates. You may either use the sub-command search to find templates by keywords or all to see a list of all available templates. Example: /templates search project This will show all the templates that contain the keyword project . To create a board from a template, simply click the Create Board button. You may also Preview or Share the template using the controls provided. Card Actions \u00b6 The command /cards has some special sub-commands that allow you to interact with the current card. /cards complete - Toggle completion status of the current card /cards comment My comment on the card - Comment on the current card /cards assign @John Doe - Assign the current card to John Doe Help with Slash Commands \u00b6 Run the help command as per below to get a more detailed summary of Kudos Boards' commands. /boards help","title":"Ww commands"},{"location":"boards/ww-commands/#watson-workspace-commands","text":"Kudos Boards adds 4 different commands to Watson Workspace - /boards , /lists , /cards , /templates . To run a command: 1. Make sure you have added the Kudos Boards app to the Workspace 2. Type any of the above prefixes in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any parameters if applicable as below. 4. Voil\u00e0!","title":"Watson Workspace Commands"},{"location":"boards/ww-commands/#create-a-board","text":"Create a Board in a workspace by using the /boards create command as below with the name for your Board. /boards create My New Board This will create a simple Todo, Doing, Done board with the title My New Board . To create boards from templates, see Explore Templates .","title":"Create a Board"},{"location":"boards/ww-commands/#create-a-list","text":"Create a List in a workspace by using the /lists create command as below with the name of your list. /lists create My New List This will create a list with the title My New List in the current board. If there is no current board selected, it will create a new board first and then create the list. For more details on the current selection, see View the Current Board, Lists and Cards .","title":"Create a List"},{"location":"boards/ww-commands/#create-a-card","text":"Create a Card (task) in a workspace by using the /cards create command as below with a brief title for the card. /cards create My New Todo This will create a card with the title My New Todo in the current list in the current board. If there is no current board or list selected, it will first create them as required and then create the card. For more details on the current selection see View the Current Board, Lists and Cards .","title":"Create a Card"},{"location":"boards/ww-commands/#browse-boards-lists-and-cards","text":"Use the all and search commands in conjunction with any of /boards , /lists or /cards commands to browse items in that space. Examples: /boards all This will show all the boards in the workspace /boards search meetings This will search the boards in the current workspace for the keyword 'meetings' /cards search documentation This will search the cards in the current board for the keyword 'documentation'","title":"Browse Boards, Lists and Cards"},{"location":"boards/ww-commands/#view-the-current-board-lists-and-cards","text":"To help you be more efficient, Kudos Boards remembers the card, list and board you last interacted with in each space. Use current with the /boards , /lists or /cards commands to view the current selection. Examples: /boards current /lists current /cards current To change the current selection, simply browse for the items using all , or search and click the Select button.","title":"View the Current Board, Lists and Cards"},{"location":"boards/ww-commands/#rename-archive-and-share-boards-lists-and-cards","text":"Use rename , archive or share sub-commands with any of the /boards , /lists or /cards commands to perform the action on the current item. Examples: /lists rename This is my new list name This will rename the current list to This is my new list name . /cards archive This will archive the current card. /boards share This will post a message to the space with a link to the current board For more on the current selections see View the Current Board, Lists and Cards .","title":"Rename, Archive and Share Boards, Lists and Cards"},{"location":"boards/ww-commands/#explore-templates","text":"Use the /templates command to explore templates. You may either use the sub-command search to find templates by keywords or all to see a list of all available templates. Example: /templates search project This will show all the templates that contain the keyword project . To create a board from a template, simply click the Create Board button. You may also Preview or Share the template using the controls provided.","title":"Explore Templates"},{"location":"boards/ww-commands/#card-actions","text":"The command /cards has some special sub-commands that allow you to interact with the current card. /cards complete - Toggle completion status of the current card /cards comment My comment on the card - Comment on the current card /cards assign @John Doe - Assign the current card to John Doe","title":"Card Actions"},{"location":"boards/ww-commands/#help-with-slash-commands","text":"Run the help command as per below to get a more detailed summary of Kudos Boards' commands. /boards help","title":"Help with Slash Commands"},{"location":"ideas/","text":"Kudos Ideas \u00b6 The following is a brief document to help you get started and to set you on your innovation journey. Create your first Idea Space \u00b6 Go to the Spaces tab and click the \"+ Idea Space\" button. Give your idea space a title and a good description to help people understand what type of ideas they should submit in this space. Follow through the rest of the Idea Space Creation wizard, feel free to read through each of the options or just leave them at their defaults for now, you can change any of these later. Submit and Vote on Ideas \u00b6 Click the tile for your new Idea Space to open it then click the \"+ Idea\" button to create your first idea. You will automatically vote up ideas that you create yourself, setting their initial vote score to 1. Vote for other peoples ideas from this page or click on them to view more details. Discuss and Promote Ideas \u00b6 Discussion is the true heart of ideation as it allows your ideas to mature as they garner support from your peers. Use the Idea Action Panel (The blue panel on the right) to invite Members to help support your idea or even to embed it in a blog, wiki or other external site.","title":"Kudos Ideas"},{"location":"ideas/#kudos-ideas","text":"The following is a brief document to help you get started and to set you on your innovation journey.","title":"Kudos Ideas"},{"location":"ideas/#create-your-first-idea-space","text":"Go to the Spaces tab and click the \"+ Idea Space\" button. Give your idea space a title and a good description to help people understand what type of ideas they should submit in this space. Follow through the rest of the Idea Space Creation wizard, feel free to read through each of the options or just leave them at their defaults for now, you can change any of these later.","title":"Create your first Idea Space"},{"location":"ideas/#submit-and-vote-on-ideas","text":"Click the tile for your new Idea Space to open it then click the \"+ Idea\" button to create your first idea. You will automatically vote up ideas that you create yourself, setting their initial vote score to 1. Vote for other peoples ideas from this page or click on them to view more details.","title":"Submit and Vote on Ideas"},{"location":"ideas/#discuss-and-promote-ideas","text":"Discussion is the true heart of ideation as it allows your ideas to mature as they garner support from your peers. Use the Idea Action Panel (The blue panel on the right) to invite Members to help support your idea or even to embed it in a blog, wiki or other external site.","title":"Discuss and Promote Ideas"},{"location":"ideas/ww-commands/","text":"Submit An Idea Browse Ideas Vote on an Idea Share an Idea with the Workspace View Idea Details Help with Slash Commands Watson Workspace Slash Commands \u00b6 All Kudos Ideas commands in Watson Workspace start with the prefix /ideas . To run a command: 1. Make sure you have added the Kudos Ideas app to the Workspace 2. Type /ideas in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any applicable parameters as below. 4. Press Enter Submit An Idea \u00b6 Submit an idea in a workspace by using the create command as below with a brief title for your idea. /ideas create My Awesome Idea! This will create a new idea with the title My Awesome Idea! and show you a detailed view of the idea you just created. Browse Ideas \u00b6 To view all the ideas in a Workspace simply use the list command as below: /ideas list This will show you a list of all the ideas in the workspace. Vote on an Idea \u00b6 List all Ideas using the above list command. Click on the Vote button on the idea you wish to vote up. Share an Idea with the Workspace \u00b6 List all Ideas using the above list command. Click on the Share button on the idea you wish to share. This will post a message in the Workspace with a link to the shared idea. View Idea Details \u00b6 List all Ideas using the above list command. Click on the View Idea button on the idea you wish to view. This will show you more details about the idea and also give you a link to the full Idea page in Kudos Ideas . Help with Slash Commands \u00b6 Run the help command as per below to get a more detailed summary of the Kudos Ideas commands. /ideas help","title":"Ww commands"},{"location":"ideas/ww-commands/#watson-workspace-slash-commands","text":"All Kudos Ideas commands in Watson Workspace start with the prefix /ideas . To run a command: 1. Make sure you have added the Kudos Ideas app to the Workspace 2. Type /ideas in the chat and select the command from the popup window, by either clicking on it or pressing Tab . 3. Add a sub-command and any applicable parameters as below. 4. Press Enter","title":"Watson Workspace Slash Commands"},{"location":"ideas/ww-commands/#submit-an-idea","text":"Submit an idea in a workspace by using the create command as below with a brief title for your idea. /ideas create My Awesome Idea! This will create a new idea with the title My Awesome Idea! and show you a detailed view of the idea you just created.","title":"Submit An Idea"},{"location":"ideas/ww-commands/#browse-ideas","text":"To view all the ideas in a Workspace simply use the list command as below: /ideas list This will show you a list of all the ideas in the workspace.","title":"Browse Ideas"},{"location":"ideas/ww-commands/#vote-on-an-idea","text":"List all Ideas using the above list command. Click on the Vote button on the idea you wish to vote up.","title":"Vote on an Idea"},{"location":"ideas/ww-commands/#share-an-idea-with-the-workspace","text":"List all Ideas using the above list command. Click on the Share button on the idea you wish to share. This will post a message in the Workspace with a link to the shared idea.","title":"Share an Idea with the Workspace"},{"location":"ideas/ww-commands/#view-idea-details","text":"List all Ideas using the above list command. Click on the View Idea button on the idea you wish to view. This will show you more details about the idea and also give you a link to the full Idea page in Kudos Ideas .","title":"View Idea Details"},{"location":"ideas/ww-commands/#help-with-slash-commands","text":"Run the help command as per below to get a more detailed summary of the Kudos Ideas commands. /ideas help","title":"Help with Slash Commands"},{"location":"swarm/","text":"Docker Swarm \u00b6 STEPS - OUTLINE: \u00b6 Gateway + storage \u00b6 Create a CentOS 7 host with external IP Map DNS to instance Set up NFS Server Install docker + docker-compose Deploy nginx load balancer via docker-compose Create swarm \u00b6 Create CoreOS hosts Connect all nodes into a swarm Set up proxy and portainer Set up docker config to access private image repo Deploy app with required config and images STEPS - MANUAL: \u00b6 Setup NFS server in centos \u00b6 sudo su firewall-cmd --permanent --zone=public --add-service=nfs firewall-cmd --reload yum -y install nfs-utils systemctl enable nfs-server.service systemctl start nfs-server.service mkdir -p /data/nfs chown -R nfsnobody:nfsnobody /data chmod -R 755 /data echo \"/data/nfs 10.142.0.1/24(rw,sync,no_subtree_check,no_root_squash)\" >> /etc/exports exportfs -a Install Docker & Docker-compose on CentOS \u00b6 curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh sudo usermod -aG docker support sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose RUN NGINX LOAD BALANCER \u00b6 From local machine transfer docker compose and other config\u2028: gcloud compute scp . support@gateway-1:/opt/setup/ --recurse On gateway node: cd /opt/setup \u2028docker-compose up -d\u2028 Create Node Swarm \u00b6 docker swarm init docker swarm join-token manager <run printed join command> Mount NFS ON all swarm nodes \u00b6 sudo mkdir -p /data/nfs && sudo mount 10.142.0.5:/data/nfs /data/nfs Deploy proxy & portainer \u00b6 On a swarm manager node-1: sudo mkdir /opt/setup -p sudo chmod -R +777 /opt From local machine transfer remote files: gcloud compute scp . support@node-1:/opt/setup/ --recurse On a swarm manager node-1: cd /opt/setup # configure repo credentials mkdir -p ~/.docker && cp config.json ~/.docker/config.json # create network for proxy docker network create --driver=overlay --internal=false proxy # create required dirs and move ssl sudo mkdir /data/nfs/sslcerts sudo mkdir /data/nfs/portainer sudo mv /opt/setup/ssl/* /data/nfs/sslcerts # deploy proxy & portainer docker stack deploy -c proxy.yml proxy docker stack deploy -c portainer.yml portainer Optional commands/steps \u00b6 deploy app with registry auth docker stack deploy -c app.yml app --with-registry-auth commands to exec based on service_name docker exec -ti service_name.1.$(docker service ps -f 'name=service_name.1' service_name -q --no-trunc | head -n1) sh Mongo replica set docker exec -ti m_mongo1.1.$(docker service ps -f 'name=m_mongo1.1' m_mongo1 -q --no-trunc | head -n1) bash mongo > rs.initiate( { _id : \"rs0\", members: [ { _id: 0, host: \"mongo1:27017\" }, { _id: 1, host: \"mongo2:27017\" }, { _id: 2, host: \"mongo3:27017\" } ] }) #test connection mongo --host rs0/mongo1:27017,mongo2:27017,mongo3:27017 mongo \"mongodb://mongo1:27017,mongo2:27017,mongo3:27017/myDB?replicaSet=rs0\" Sticky sessions - add following label to container traefik.backend.loadbalancer.stickiness=true Docker-compose in CoreOS for debugging stack ymls sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /opt/bin/docker-compose sudo chmod +x /opt/bin/docker-compose TODO \u00b6 General \u00b6 Logging is not so reliable, look into custom logging drivers. logstash? Delivery model? script? Role to deploy Mongo Role to deploy Boards and Ideas Role to deploy with buzzy image Resource allocation through compose Resource monitoring? Does portainer do that? SECURITY \u00b6 Storage is on externally accessible machine?! but nfs server is only allowed on local ip mask mongodb auth + add creds docker repo access config is basic auth Gotchas \u00b6 Volumes need to be manually removed on all nodes if they are broken or config is updated, they are not removed as part of the stack traefik labels need to be on the container not on the service, i.e. under deploy:","title":"Docker Swarm"},{"location":"swarm/#docker-swarm","text":"","title":"Docker Swarm"},{"location":"swarm/#steps-outline","text":"","title":"STEPS - OUTLINE:"},{"location":"swarm/#gateway-storage","text":"Create a CentOS 7 host with external IP Map DNS to instance Set up NFS Server Install docker + docker-compose Deploy nginx load balancer via docker-compose","title":"Gateway + storage"},{"location":"swarm/#create-swarm","text":"Create CoreOS hosts Connect all nodes into a swarm Set up proxy and portainer Set up docker config to access private image repo Deploy app with required config and images","title":"Create swarm"},{"location":"swarm/#steps-manual","text":"","title":"STEPS - MANUAL:"},{"location":"swarm/#setup-nfs-server-in-centos","text":"sudo su firewall-cmd --permanent --zone=public --add-service=nfs firewall-cmd --reload yum -y install nfs-utils systemctl enable nfs-server.service systemctl start nfs-server.service mkdir -p /data/nfs chown -R nfsnobody:nfsnobody /data chmod -R 755 /data echo \"/data/nfs 10.142.0.1/24(rw,sync,no_subtree_check,no_root_squash)\" >> /etc/exports exportfs -a","title":"Setup NFS server in centos"},{"location":"swarm/#install-docker-docker-compose-on-centos","text":"curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh sudo usermod -aG docker support sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose","title":"Install Docker &amp; Docker-compose on CentOS"},{"location":"swarm/#run-nginx-load-balancer","text":"From local machine transfer docker compose and other config\u2028: gcloud compute scp . support@gateway-1:/opt/setup/ --recurse On gateway node: cd /opt/setup \u2028docker-compose up -d","title":"RUN NGINX LOAD BALANCER"},{"location":"swarm/#create-node-swarm","text":"docker swarm init docker swarm join-token manager <run printed join command>","title":"Create Node Swarm"},{"location":"swarm/#mount-nfs-on-all-swarm-nodes","text":"sudo mkdir -p /data/nfs && sudo mount 10.142.0.5:/data/nfs /data/nfs","title":"Mount NFS ON all swarm nodes"},{"location":"swarm/#deploy-proxy-portainer","text":"On a swarm manager node-1: sudo mkdir /opt/setup -p sudo chmod -R +777 /opt From local machine transfer remote files: gcloud compute scp . support@node-1:/opt/setup/ --recurse On a swarm manager node-1: cd /opt/setup # configure repo credentials mkdir -p ~/.docker && cp config.json ~/.docker/config.json # create network for proxy docker network create --driver=overlay --internal=false proxy # create required dirs and move ssl sudo mkdir /data/nfs/sslcerts sudo mkdir /data/nfs/portainer sudo mv /opt/setup/ssl/* /data/nfs/sslcerts # deploy proxy & portainer docker stack deploy -c proxy.yml proxy docker stack deploy -c portainer.yml portainer","title":"Deploy proxy &amp; portainer"},{"location":"swarm/#optional-commandssteps","text":"deploy app with registry auth docker stack deploy -c app.yml app --with-registry-auth commands to exec based on service_name docker exec -ti service_name.1.$(docker service ps -f 'name=service_name.1' service_name -q --no-trunc | head -n1) sh Mongo replica set docker exec -ti m_mongo1.1.$(docker service ps -f 'name=m_mongo1.1' m_mongo1 -q --no-trunc | head -n1) bash mongo > rs.initiate( { _id : \"rs0\", members: [ { _id: 0, host: \"mongo1:27017\" }, { _id: 1, host: \"mongo2:27017\" }, { _id: 2, host: \"mongo3:27017\" } ] }) #test connection mongo --host rs0/mongo1:27017,mongo2:27017,mongo3:27017 mongo \"mongodb://mongo1:27017,mongo2:27017,mongo3:27017/myDB?replicaSet=rs0\" Sticky sessions - add following label to container traefik.backend.loadbalancer.stickiness=true Docker-compose in CoreOS for debugging stack ymls sudo curl -L \"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)\" -o /opt/bin/docker-compose sudo chmod +x /opt/bin/docker-compose","title":"Optional commands/steps"},{"location":"swarm/#todo","text":"","title":"TODO"},{"location":"swarm/#general","text":"Logging is not so reliable, look into custom logging drivers. logstash? Delivery model? script? Role to deploy Mongo Role to deploy Boards and Ideas Role to deploy with buzzy image Resource allocation through compose Resource monitoring? Does portainer do that?","title":"General"},{"location":"swarm/#security","text":"Storage is on externally accessible machine?! but nfs server is only allowed on local ip mask mongodb auth + add creds docker repo access config is basic auth","title":"SECURITY"},{"location":"swarm/#gotchas","text":"Volumes need to be manually removed on all nodes if they are broken or config is updated, they are not removed as part of the stack traefik labels need to be on the container not on the service, i.e. under deploy:","title":"Gotchas"}]}